<!-- Use modal/single progression_chord generator, that all chords will use, just keep track of a selected pc and voilÃ  -->
<%= turbo_frame_tag "progressions" do %>
    <%= content_tag :div do %>
        <%= render partial: "songs/define_progressions_song_shifter", locals: { song: @song } %>
        <%= render partial: "songs/current_progressions", locals: { progressions: @progressions, scale: @song.scale, key: @song.key } %>
        <%= render partial: "songs/new_progressions", locals: { progressions: [], scale: @song.scale, key: @song.key } %>
    <% end %>
    
    <%= form_tag("/songs/" + @song.id.to_s + "/progressions", class: "hidden-progression-form") do %>
        <% @progressions.each do |progression| %>
            <%= render partial: "progressions/hidden_data", locals: { progression: progression } %>
        <% end %>
    <% end %>
<% end %>