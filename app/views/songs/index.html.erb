<%= tag.div class: "action-bar" do %>
    <%= render "songs/sort_options" %>
    <%= render "songs/admin_options" %>
    <%= render "songs/filter_options" %>
    <%= render "songs/selection_options" %>
<% end %>
<%= tag.table class: "songs-list" do %>
    <%= tag.thead do %>
        <%= tag.tr do %>
            <%= tag.th do %>Song<% end %>
            <%= tag.th do %>Artists<% end %>
            <%= tag.th do %>Capo<% end %>
            <%= tag.th do %>Plays<% end %>
            <%= tag.th do %>Last Played<% end %>
            <%= tag.th do %>...<% end %>
        <% end %>
    <% end %>
    <%= tag.tbody do %>
        <% @songs.each do |song| %>
            <%= tag.tr do %>
                <%= tag.td class: "songs-list__title" do %>
                    <%= link_to song.name, song_path(song.id), class: ("contrast-text" if song.upgraded?) %>
                <% end %>
                <%= tag.td class: "songs-list__artist" do %>
                    <%= song.get_artists %>
                <% end %>
                <%= tag.td class: "songs-list__capo" do %>
                    <%= song.capo %>
                <% end %>
                <%= tag.td class: "songs-list__plays" do %>
                    <%= song.nb_practices %>
                <% end %>
                <%= tag.td class: "songs-list__last-played" do %>
                    <%= song.last_practiced&.strftime("%Y-%m-%d") %>
                <% end %>
                <%= tag.td class: "songs-list__play" do %>
                    <%= link_to "Play", song_plays_path(song_id: song.id), data: { turbo_stream: true, turbo_method: :post } %>
                    <%= link_to "Play (by Heart)", song_plays_path(song_id: song.id, by_heart: true), data: { turbo_stream: true, turbo_method: :post } %>
                <% end %>
            <% end %>
        <% end %>
    <% end %>
<% end %>