<%= content_for :header do %>
    <%= render "scales/print_for_header", scale: @song.scale || Scale.default, key: @song.key || Key.default %>
    <%= link_to t('actions.edit', thing: t('models.song.model_name')), edit_song_path(@song) %>
<% end %>

<!-- Use modal/single progression_chord generator, that all chords will use, just keep track of a selected pc and voilÃ  -->
<%= tag.div id: "progressions" do %>
    <%= tag.div do %>
        <%# shift from one song to the previous/next, for now by ID %>
        <%= render "progressions/song_shifter", song: @song %>

        <%# show song scale, degrees %>
        <% if @song.key && @song.scale %>
            <%= @song.keyscale %>
        <% end %>

        <%# show currently instanciated Progressions %>
        <%= render "progressions/current_progressions", progressions: @song.progressions, scale: @song.scale, key: @song.key %>
        <%# show new progression forms %>
        <%= render "progressions/new_progressions", progressions: [], song: @song, scale: @song.scale, key: @song.key %>
        <%# link to the the page that sets SongProgressions %>
        <%= link_to t('cta.define_song_progressions'), song_song_progressions_path(@song), class: "button", data: { turbo: false } %>
    <% end %>
<% end %>
