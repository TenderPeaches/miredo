<%= tag.fieldset class: local_assigns[:is_hidden] ? "progression-template-picker hidden" : "progression-template-picker", id: local_assigns[:is_hidden] ? "hidden-progression-picker" : nil  do %>
    <%= tag.legend t('actions.new', thing: t('activerecord.models.progression')) %>
    <%= form_tag new_progression_path(format: :turbo_stream), class: "progression-template-picker", method: :get, data: { turbo_stream: true } do %>
        <%= tag.div class: "field" do %>
            <%= label_tag t('activerecord.models.progression_template') %>
            <%= select_tag :progression_template_id, options_from_collection_for_select(progression_templates, :id, :print_for_select, 1) %>
        <% end %>
        <%= hidden_field_tag :song_id, song.id %>
        <%= submit_tag t('actions.new', thing: t('activerecord.models.progression')) %>
    <% end %>
<% end %>